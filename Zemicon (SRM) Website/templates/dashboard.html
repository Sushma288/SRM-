<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Zemicon</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

    <!-- ===================== HEADER ===================== -->
    <header>
        <div class="logo" style="text-align: center; width: 100%;">
            <h1>Zemicon Electronics</h1>
            <p>Supplier Relationship Management (SRM)</p>
        </div>
    </header>

    <!-- ===================== CENTERED DASHBOARD BOX ===================== -->
    <div class="page-center-wrapper">
        <div class="container fade-in">

            <h2>Dashboard</h2>

            <p>Welcome, {{ session.role }}!</p>

            <!-- Generate Code Button -->
            <a href="{{ url_for('generate_code_route', code_type=session.role) }}" 
               class="btn hover-effect">
               Generate {{ session.role }} Code
            </a>

            <!-- Logout Button -->
            <a href="{{ url_for('logout') }}" class="btn hover-effect">Logout</a>

            <h3>Your Codes</h3>

            <ul>
                {% for code in codes %}
                    <li>{{ code.code_type }}: {{ code.code }} 
                        (Generated: {{ code.generated_at }})
                    </li>
                {% endfor %}
            </ul>

            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <p class="{{ category }}">{{ message }}</p>
                    {% endfor %}
                {% endif %}
            {% endwith %}

        </div>
    </div>

</body>
</html>
